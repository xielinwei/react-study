# å¼€å‘æœåŠ¡å™¨ç®¡ç†æŒ‡å—

## ğŸš¨ é—®é¢˜æè¿°

æ¯æ¬¡é‡å¯é¡¹ç›®éƒ½ä¼šé‡æ–°å¼€è¿›ç¨‹ï¼Œè¿™é€šå¸¸æ˜¯ç”±ä»¥ä¸‹åŸå› é€ æˆçš„ï¼š

1. **ç«¯å£å†²çª** - 5173ç«¯å£è¢«å…¶ä»–è¿›ç¨‹å ç”¨
2. **è¿›ç¨‹æœªæ­£ç¡®ç»ˆæ­¢** - ä¹‹å‰çš„å¼€å‘æœåŠ¡å™¨è¿›ç¨‹ä»åœ¨è¿è¡Œ
3. **Viteé…ç½®é—®é¢˜** - å¼€å‘æœåŠ¡å™¨é…ç½®ä¸å½“

## ğŸ”§ è§£å†³æ–¹æ¡ˆ

### æ–¹æ¡ˆä¸€ï¼šä½¿ç”¨ä¼˜åŒ–åçš„è„šæœ¬ï¼ˆæ¨èï¼‰

æˆ‘ä»¬å·²ç»åœ¨ `package.json` ä¸­æ·»åŠ äº†ä¼˜åŒ–çš„è„šæœ¬ï¼š

```bash
# æ­£å¸¸å¯åŠ¨ï¼ˆæ¨èï¼‰
pnpm dev

# æ¸…ç†åå¯åŠ¨ï¼ˆå¦‚æœé‡åˆ°ç«¯å£å†²çªï¼‰
pnpm dev:clean

# ä½¿ç”¨ä¸åŒç«¯å£å¯åŠ¨
pnpm dev:port

# åœæ­¢æ‰€æœ‰viteè¿›ç¨‹
pnpm kill

# æ¸…ç†ç¼“å­˜
pnpm clean
```

### æ–¹æ¡ˆäºŒï¼šæ‰‹åŠ¨ç®¡ç†è¿›ç¨‹

```bash
# æŸ¥çœ‹å ç”¨5173ç«¯å£çš„è¿›ç¨‹
lsof -ti:5173

# åœæ­¢æŒ‡å®šè¿›ç¨‹
kill -9 <è¿›ç¨‹ID>

# æˆ–è€…åœæ­¢æ‰€æœ‰viteè¿›ç¨‹
pkill -f 'vite'
```

### æ–¹æ¡ˆä¸‰ï¼šä½¿ç”¨å¼€å‘æœåŠ¡å™¨ç®¡ç†è„šæœ¬

```bash
# ç»™è„šæœ¬æ·»åŠ æ‰§è¡Œæƒé™
chmod +x dev-server.sh

# å¯åŠ¨æœåŠ¡å™¨
./dev-server.sh start

# åœæ­¢æœåŠ¡å™¨
./dev-server.sh stop

# é‡å¯æœåŠ¡å™¨
./dev-server.sh restart

# æŸ¥çœ‹çŠ¶æ€
./dev-server.sh status

# æ¸…ç†å¹¶é‡å¯
./dev-server.sh clean
```

## âš™ï¸ Viteé…ç½®ä¼˜åŒ–

æˆ‘ä»¬å·²ç»åœ¨ `vite.config.ts` ä¸­æ·»åŠ äº†ä»¥ä¸‹ä¼˜åŒ–é…ç½®ï¼š

```typescript
export default defineConfig({
  server: {
    port: 5173,
    host: true,
    open: true, // è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨
    strictPort: true, // ç«¯å£è¢«å ç”¨æ—¶ç›´æ¥é€€å‡º
    hmr: {
      overlay: true, // é”™è¯¯è¦†ç›–å±‚
    },
  },
  // ... å…¶ä»–é…ç½®
})
```

## ğŸš€ æœ€ä½³å®è·µ

### 1. å¯åŠ¨å‰æ£€æŸ¥

```bash
# æ£€æŸ¥ç«¯å£å ç”¨
lsof -i:5173

# å¦‚æœæœ‰å ç”¨ï¼Œå…ˆæ¸…ç†
pnpm kill
```

### 2. ä½¿ç”¨æ¨èçš„å¯åŠ¨æ–¹å¼

```bash
# é¦–æ¬¡å¯åŠ¨æˆ–é‡åˆ°é—®é¢˜æ—¶
pnpm dev:clean

# æ­£å¸¸å¼€å‘
pnpm dev
```

### 3. å¼€å‘å®Œæˆåæ¸…ç†

```bash
# åœæ­¢æœåŠ¡å™¨
Ctrl + C

# æˆ–è€…ä½¿ç”¨è„šæœ¬
pnpm kill
```

## ğŸ” å¸¸è§é—®é¢˜æ’æŸ¥

### é—®é¢˜1ï¼šç«¯å£è¢«å ç”¨

```bash
# æŸ¥çœ‹å ç”¨è¿›ç¨‹
lsof -i:5173

# åœæ­¢è¿›ç¨‹
kill -9 <è¿›ç¨‹ID>

# æˆ–è€…ä½¿ç”¨æ¸…ç†è„šæœ¬
pnpm dev:clean
```

### é—®é¢˜2ï¼šè¿›ç¨‹æ— æ³•åœæ­¢

```bash
# å¼ºåˆ¶åœæ­¢æ‰€æœ‰viteè¿›ç¨‹
pkill -f 'vite'

# æˆ–è€…é‡å¯ç»ˆç«¯
```

### é—®é¢˜3ï¼šç¼“å­˜é—®é¢˜

```bash
# æ¸…ç†ç¼“å­˜
pnpm clean

# é‡æ–°å®‰è£…ä¾èµ–
rm -rf node_modules
pnpm install
```

## ğŸ“‹ è„šæœ¬è¯´æ˜

### package.json è„šæœ¬

- `dev` - æ­£å¸¸å¯åŠ¨å¼€å‘æœåŠ¡å™¨
- `dev:clean` - æ¸…ç†è¿›ç¨‹åå¯åŠ¨
- `dev:port` - ä½¿ç”¨3000ç«¯å£å¯åŠ¨
- `kill` - åœæ­¢æ‰€æœ‰viteè¿›ç¨‹
- `clean` - æ¸…ç†ç¼“å­˜å’Œæ„å»ºæ–‡ä»¶

### dev-server.sh è„šæœ¬

- `start` - å¯åŠ¨æœåŠ¡å™¨
- `stop` - åœæ­¢æœåŠ¡å™¨
- `restart` - é‡å¯æœåŠ¡å™¨
- `status` - æŸ¥çœ‹çŠ¶æ€
- `clean` - æ¸…ç†å¹¶é‡å¯

## ğŸ¯ æ¨èå·¥ä½œæµç¨‹

1. **é¦–æ¬¡å¯åŠ¨**
   ```bash
   pnpm dev:clean
   ```

2. **æ—¥å¸¸å¼€å‘**
   ```bash
   pnpm dev
   ```

3. **é‡åˆ°é—®é¢˜æ—¶**
   ```bash
   pnpm kill
   pnpm dev:clean
   ```

4. **å¼€å‘å®Œæˆå**
   ```bash
   Ctrl + C  # åœæ­¢æœåŠ¡å™¨
   ```

## ğŸ“Š æ€§èƒ½ä¼˜åŒ–

### Viteé…ç½®ä¼˜åŒ–

- **strictPort**: ç«¯å£å†²çªæ—¶ç›´æ¥é€€å‡º
- **hmr.overlay**: é”™è¯¯è¦†ç›–å±‚
- **optimizeDeps**: é¢„æ„å»ºä¾èµ–
- **manualChunks**: ä»£ç åˆ†å‰²

### å¼€å‘ä½“éªŒä¼˜åŒ–

- **è‡ªåŠ¨æ‰“å¼€æµè§ˆå™¨**: `open: true`
- **ä¸»æœºè®¿é—®**: `host: true`
- **é”™è¯¯è¦†ç›–å±‚**: `hmr.overlay: true`

## ğŸ”§ æ•…éšœæ’é™¤

å¦‚æœä»ç„¶é‡åˆ°é—®é¢˜ï¼Œå¯ä»¥å°è¯•ï¼š

1. **é‡å¯ç»ˆç«¯**
2. **æ¸…ç†æ‰€æœ‰ç¼“å­˜**: `pnpm clean`
3. **é‡æ–°å®‰è£…ä¾èµ–**: `rm -rf node_modules && pnpm install`
4. **æ£€æŸ¥ç³»ç»Ÿè¿›ç¨‹**: `ps aux | grep vite`
5. **ä½¿ç”¨ä¸åŒç«¯å£**: `pnpm dev:port`

é€šè¿‡è¿™äº›ä¼˜åŒ–ï¼Œå¼€å‘æœåŠ¡å™¨çš„å¯åŠ¨å’Œç®¡ç†å°†æ›´åŠ ç¨³å®šå’Œé«˜æ•ˆï¼ 